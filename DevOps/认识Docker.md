
# 什么是Docker

以下是对Docker的几点说明：  
- Docker 是一种运行于 Linux 和 Windows 上的软件，用于创建、管理和编排**容器**。
- Docker 是在 GitHub 上开发的 Moby **开源**项目的一部分。Docker 公司还提供包含支持服务的**商业版本**的 Docker。

首先，Docker是一种容器，再者它是一个开源项目，但是也提供商业版本。所以了解一下什么是容器：    

## 什么是容器

容器化越来越受欢迎，是因为 **容器有以下的特点：**
- **灵活：** 即使最复杂的应用程序也可以容器化。   
- **轻量级：** 容器利用并共享主机内核，在系统资源方面比虚拟机更加有效。
- **可移植性：** 您可以在本地构建，部署到云并在任何地方运行。
- **松散耦合：** 容器是高度自给自足并封装的容器，使您可以在不破坏其他容器的情况下更换或升级它们。
- **可扩展：** 您可以在数据中心内增加并自动分发容器副本。
- **安全：** 容器将积极的约束和隔离应用于流程，而无需用户方面的任何配置。

**我对容器通俗的理解：**   
容器就好比一个容纳东西的物体，可以在容器中放各种东西，容器是一个相对独立的空间，不会收到外界的影响，在容器的内部是一个独立的生态。有时根据对容器的介绍，觉得JDK实际上也是一个容器，java程序在JDK平台上运行。docker的 *Build, Ship and Run Any App, Anywhere* 和JDK *一次编译，到处运行* 有着异曲同工之妙。当然这只是片面的比较。其实更多的时候觉得还是更像虚拟机。甚至于与很长一段时间，都把他当作虚拟机来看待和使用的。

# Docker容器和虚拟机的不同

Docker和虚拟机有什么不同，有很长一段时间甚至认为两者基本一样，所以这里专门整理一下这两者的不同。

容器在Linux上本地运行，并与其他容器共享主机的内核。它运行一个离散进程，不占用任何其他可执行文件更多的内存，从而使其轻巧。相比之下，虚拟机（VM）运行具有“ 虚拟机管理程序”对主机资源的虚拟访问权的成熟“来宾”操作系统。通常，VM会产生大量开销，超出了应用程序逻辑所消耗的开销。

简单理解：**容器虚拟化的是操作系统而不是硬件，容器之间是共享同一套操作系统资源的。虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统。因此容器的隔离级别会稍低一些。**

## 对比图
传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；而容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便。
![容器和虚拟机的对比](ASSET/容器和虚拟机的对比.jpg)

## 总结
- **容器是一个应用层抽象，用于将代码和依赖资源打包在一起。 多个容器可以在同一台机器上运行，共享操作系统内核，但各自作为独立的进程在用户空间中运行** 。与虚拟机相比， **容器占用的空间较少**（容器镜像大小通常只有几十兆），瞬间就能完成启动 。

- **虚拟机 (VM) 是一个物理硬件层抽象，用于将一台服务器变成多台服务器**。 管理程序允许多个 VM 在一台机器上运行。每个 **VM 都包含一整套操作系统、一个或多个应用、必要的二进制文件和库资源**，因此 **占用大量空间** 。而且 **VM 启动也十分缓慢** 。

通过 Docker 官网，我们知道了这么多 Docker 的优势，但是大家也没有必要完全否定虚拟机技术，因为两者有不同的使用场景。虚拟机更擅长于彻底隔离整个运行环境。例如，云服务提供商通常采用虚拟机技术隔离不同的用户。而 Docker 通常用于隔离不同的应用 ，例如前端，后端以及数据库。

# Docker的一些底层原理

**参考文档**    
[闲的时候可以看看官方的文档：https://docs.docker.com/](https://docs.docker.com/)
[作者这篇文档整理的也非常好：https://snailclimb.gitee.io/javaguide/#/docs/tools/Docker?id=%e4%b8%80-%e8%ae%a4%e8%af%86%e5%ae%b9%e5%99%a8](https://snailclimb.gitee.io/javaguide/#/docs/tools/Docker?id=%e4%b8%80-%e8%ae%a4%e8%af%86%e5%ae%b9%e5%99%a8)