
**关于消息中间件可以参考文章:**
 
[关于MQ的几件小事（一）消息队列的用途、优缺点、技术选型](https://juejin.im/post/5ce55db3f265da1bb27706fe?utm_source=gold_browser_extension)

[关于MQ的几件小事（四）如何保证消息不丢失](https://juejin.im/post/5ce55f0ff265da1b6a346b60?utm_source=gold_browser_extension)


# 为什么系统需要引入消息中间件

1、系统解耦

上游系统将核心数据推送到下游系统，但是有很多下游系统都需要。上游系统可以将数据推送到消息中间件，由下游系统自行消费。

2、异步调用

复杂的业务场景，同时不需要同步执行立即生效的场景，可以考虑把请求放在消息中，再一定时间范围内执行。
比如下单和送件

3、流量削峰

# 引入消息中间件的优缺点

1、系统的可用性降低

引入中间件相当于多引入了一个依赖，就多了一层风险。比如中间件宕机后，业务流程就会中断。如何保证系统的可用性是需要解决的问题

2、系统的稳定性降低

(1) 中间件的不稳定导致整个系统的不稳定：消息再系统之间推送和消费时出现问题
(2) 上游系统的不稳定导致消息的错误，引起系统之间交互出现问题

3、分布式的一致性问题

比如上游系统发送消息成功后向更新了自己的数据库数据，下游系统收到消息处理时出现问题，导致数据不一致。

